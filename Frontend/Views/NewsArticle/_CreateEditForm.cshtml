@model Assignmen_PRN232__.Dto.NewsArticleSaveDto
@using Assignmen_PRN232__.Dto

@{
    var categories = (List<CategoryDto>?)ViewBag.Categories ?? new List<CategoryDto>();
}

<!-- NewsArticleId (hidden) -->
<input type="hidden" name="NewsArticleId" value="@Model.NewsArticleId" />
<input type="hidden" name="CreatedById" value="@Model.CreatedById" />
<input type="hidden" name="UpdatedById" value="@Model.UpdatedById" />
<input type="hidden" name="CreatedDate" value="@Model.CreatedDate" />
<input type="hidden" name="ModifiedDate" value="@Model.ModifiedDate" />

<div class="modal-body">
    <!-- News Title -->
    <div class="mb-3">
        <label for="newsTitle" class="form-label">News Title <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="newsTitle" name="NewsTitle" 
               value="@Model.NewsTitle" required 
               placeholder="Enter news title">
        <small class="form-text text-muted">e.g., Breaking News, Special Report</small>
    </div>

    <!-- Headline -->
    <div class="mb-3">
        <label for="headline" class="form-label">Headline <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="headline" name="Headline" 
               value="@Model.Headline" required 
               placeholder="Enter headline">
        <small class="form-text text-muted">Main headline of the article</small>
    </div>

    <!-- News Content -->
    <div class="mb-3">
        <label for="newsContent" class="form-label">News Content</label>
        <textarea class="form-control" id="newsContent" name="NewsContent" rows="5" 
                  placeholder="Enter news content">@Model.NewsContent</textarea>
    </div>

    <!-- News Source -->
    <div class="mb-3">
        <label for="newsSource" class="form-label">News Source</label>
        <input type="text" class="form-control" id="newsSource" name="NewsSource" 
               value="@Model.NewsSource" 
               placeholder="Enter news source">
    </div>

    <!-- Category -->
    <div class="row">
        <div class="col-md-6">
            <div class="mb-3">
                <label for="categoryId" class="form-label">Category</label>
                <select class="form-select" id="categoryId" name="CategoryId">
                    <option value="">Select Category</option>
                    @foreach (var cat in categories)
                    {
                        <option value="@cat.CategoryId" selected="@(Model.CategoryId == cat.CategoryId)">@cat.CategoryName</option>
                    }
                </select>
            </div>
        </div>

        <!-- Status -->
        <div class="col-md-6">
            <div class="mb-3">
                <label for="newsStatus" class="form-label">Status</label>
                <div class="form-check form-switch">
                    <input type="hidden" name="NewsStatus" value="false" />
                    <input class="form-check-input" type="checkbox" id="newsStatus" name="NewsStatus" 
                           value="true" @(Model.NewsStatus == true ? "checked" : "")>
                    <label class="form-check-label" for="newsStatus">
                        Active
                    </label>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
    <button type="submit" class="btn btn-primary" form="newsArticleForm">
        <i class="bi bi-save"></i> @(string.IsNullOrEmpty(Model.NewsArticleId) ? "Create" : "Update")
    </button>
</div>
